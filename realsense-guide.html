<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RealSense Road Scanner: åˆå­¦è€…å‘ã‘ã‚¬ã‚¤ãƒ‰</title>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script>
        window.MathJax = {
            tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']]
            }
        };
    </script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script type="module">
        import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs';
        mermaid.initialize({ startOnLoad: false });
        window.mermaid = mermaid;
        // Render Mermaid after all tabs are visible, then restore tab visibility
        document.addEventListener('DOMContentLoaded', async function () {
            // Temporarily show all tab content for Mermaid rendering
            var allTabs = document.querySelectorAll('.tab-content');
            allTabs.forEach(function (tab) { tab.style.display = 'block'; });
            // Wait for Mermaid to render
            await mermaid.run();
            // Restore proper tab visibility (only gen1 visible)
            allTabs.forEach(function (tab) { tab.style.display = 'none'; });
            document.getElementById('gen1').style.display = 'block';
        });
    </script>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            line-height: 1.7;
            color: #2c3e50;
            max-width: 900px;
            margin: 0 auto;
            padding: 40px 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            background-attachment: fixed;
        }

        .container {
            background-color: #ffffff;
            border-radius: 12px;
            padding: 50px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1);
        }

        .back-link {
            display: inline-flex;
            align-items: center;
            margin-bottom: 30px;
            padding: 10px 20px;
            background-color: #3498db;
            color: white;
            text-decoration: none;
            border-radius: 6px;
            transition: all 0.3s ease;
            font-weight: 500;
        }

        .back-link:hover {
            background-color: #2980b9;
            transform: translateX(-5px);
        }

        h1 {
            text-align: center;
            color: #2c3e50;
            font-size: 2.2em;
            font-weight: 700;
            margin-bottom: 10px;
        }

        h1 span {
            display: block;
            font-size: 0.5em;
            color: #7f8c8d;
            font-weight: 400;
            margin-top: 10px;
        }

        .tabs {
            display: flex;
            justify-content: center;
            margin-bottom: 30px;
            border-bottom: 2px solid #ecf0f1;
        }

        .tab-button {
            background: none;
            border: none;
            padding: 15px 30px;
            font-size: 1.1em;
            font-weight: 600;
            color: #7f8c8d;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
        }

        .tab-button:hover {
            color: #3498db;
        }

        .tab-button.active {
            color: #2c3e50;
            font-weight: 700;
        }

        .tab-button.active::after {
            content: '';
            position: absolute;
            bottom: -2px;
            left: 0;
            width: 100%;
            height: 3px;
            background-color: #3498db;
            border-radius: 3px 3px 0 0;
        }

        .tab-content {
            display: none;
            animation: fadeIn 0.5s ease;
        }

        .tab-content.active {
            display: block;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        h2 {
            color: #34495e;
            font-size: 1.6em;
            font-weight: 600;
            margin-top: 50px;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid #ecf0f1;
        }

        h3 {
            color: #34495e;
            font-size: 1.3em;
            font-weight: 600;
            margin-top: 30px;
            margin-bottom: 15px;
        }

        p {
            margin-bottom: 20px;
            line-height: 1.8;
        }

        .analogy {
            background: linear-gradient(135deg, #e3f2fd 0%, #f3e5f5 100%);
            border-left: 4px solid #3498db;
            border-radius: 8px;
            padding: 25px;
            margin: 30px 0;
        }

        .analogy::before {
            content: "ğŸ’¡ ã‚¤ãƒ¡ãƒ¼ã‚¸ã§ç†è§£";
            font-weight: 600;
            color: #2980b9;
            font-size: 1.1em;
            display: block;
            margin-bottom: 12px;
        }

        .step-box {
            background-color: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 10px;
            padding: 25px;
            margin-bottom: 25px;
            transition: all 0.3s ease;
        }

        .step-box:hover {
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
            transform: translateY(-2px);
        }

        .step-number {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            width: 32px;
            height: 32px;
            border-radius: 50%;
            margin-right: 12px;
            font-weight: 600;
            font-size: 1.1em;
        }

        .math-explanation {
            background-color: #fff;
            border: 1px solid #dee2e6;
            border-left: 4px solid #3498db;
            padding: 20px;
            margin-top: 20px;
            border-radius: 6px;
        }

        .math-explanation h4 {
            margin-top: 0;
            color: #2980b9;
            font-size: 1.05em;
            font-weight: 600;
            margin-bottom: 15px;
        }

        .formula {
            text-align: center;
            margin: 20px 0;
            padding: 15px;
            background-color: #f8f9fa;
            border-radius: 6px;
            overflow-x: auto;
        }

        ol,
        ul {
            margin-left: 20px;
            line-height: 1.9;
        }

        li {
            margin-bottom: 10px;
        }

        strong {
            color: #2c3e50;
            font-weight: 600;
        }

        table {
            border-collapse: collapse;
            width: 100%;
            margin: 20px 0;
        }

        th,
        td {
            border: 1px solid #ddd;
            padding: 8px 12px;
            text-align: left;
        }

        th {
            background-color: #f2f2f2;
        }

        footer {
            margin-top: 60px;
            text-align: center;
            font-size: 0.9em;
            color: #95a5a6;
            padding-top: 30px;
            border-top: 1px solid #ecf0f1;
        }

        .mermaid {
            text-align: center;
            margin: 20px 0;
        }
    </style>
    <script>
        function openTab(tabName, btn) {
            var i, tabcontent, tablinks;
            tabcontent = document.getElementsByClassName("tab-content");
            for (i = 0; i < tabcontent.length; i++) { tabcontent[i].style.display = "none"; tabcontent[i].classList.remove("active"); }
            tablinks = document.getElementsByClassName("tab-button");
            for (i = 0; i < tablinks.length; i++) { tablinks[i].classList.remove("active"); }
            document.getElementById(tabName).style.display = "block";
            document.getElementById(tabName).classList.add("active");
            btn.classList.add("active");
            // Re-render Mermaid diagrams in the newly visible tab
            if (typeof window.mermaid !== 'undefined') {
                var mermaidDivs = document.getElementById(tabName).querySelectorAll('.mermaid:not([data-processed])');
                if (mermaidDivs.length > 0) {
                    window.mermaid.run({ nodes: Array.from(mermaidDivs) });
                }
            }
        }
    </script>
</head>

<body>
    <div class="container">
        <a href="index.html" class="back-link">â† ãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸ã«æˆ»ã‚‹</a>
        <h1>RealSense Road Scanner<span>æŠ€è¡“ç™ºè¡¨è³‡æ–™ï¼ˆåˆå­¦è€…å‘ã‘ï¼‰</span></h1>
        <div class="tabs">
            <button class="tab-button active" onclick="openTab('gen1', this)">Gen 1 (2D Baseline)</button>
            <button class="tab-button" onclick="openTab('gen2', this)">Gen 2 (3D Point Cloud)</button>
        </div>

        <div id="gen1" class="tab-content active">
            <h2>1. ç ”ç©¶ã®èƒŒæ™¯ã¨ç›®çš„</h2>
            <p>æœ¬ã‚·ã‚¹ãƒ†ãƒ ã®ç›®çš„ã¯ã€<strong>ã€Œè·¯é¢æ€§çŠ¶ã®é«˜ç²¾åº¦ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ è¨ˆæ¸¬ã€</strong>ã§ã™ã€‚</p>
            <p>è‡ªå‹•é‹è»¢ã‚„é“è·¯ä¿å®ˆã«ãŠã„ã¦ã€è·¯é¢ã®å‡¹å‡¸ã‚„éšœå®³ç‰©ã‚’æ­£ç¢ºã«æ¤œå‡ºã™ã‚‹ã“ã¨ã¯æ¥µã‚ã¦é‡è¦ã§ã™ã€‚å¾“æ¥ã®RGBã‚«ãƒ¡ãƒ©ã§ã¯è‰²ã‚„æ¨¡æ§˜ã«å·¦å³ã•ã‚Œã‚„ã™ãã€å®Ÿéš›ã®é«˜ä½å·®ã‚’æ­£ç¢ºã«æ¸¬å®šã™ã‚‹ã“ã¨ãŒå›°é›£ã§ã—ãŸã€‚ãã“ã§ã€æ·±åº¦ã‚«ãƒ¡ãƒ©ã‚’ç”¨ã„ã‚‹ã“ã¨ã§ã€ç…§æ˜æ¡ä»¶ã‚„è·¯é¢ã®è‰²ã«ä¾å­˜ã—ãªã„ã€3æ¬¡å…ƒçš„ãªè·¯é¢å½¢çŠ¶ã®ç›´æ¥è¨ˆæ¸¬ã‚’å®Ÿç¾ã—ã¾ã™ã€‚
            </p>

            <h2>2. ã‚»ãƒ³ã‚·ãƒ³ã‚°æ‰‹æ³•</h2>
            <p>è·¯é¢ã®å‡¹å‡¸ã‚’æ­£ç¢ºã«æ‰ãˆã‚‹ãŸã‚ã€é€šå¸¸ã®RGBã‚«ãƒ¡ãƒ©ã§ã¯ãªã<strong>ã€Œæ·±åº¦ã‚«ãƒ¡ãƒ©ï¼ˆIntel RealSenseï¼‰ã€</strong>ã‚’æ¡ç”¨ã—ã¦ã„ã¾ã™ã€‚</p>
            <div class="analogy">
                <p><strong>ğŸ’¡ æ¦‚å¿µçš„ãªç†è§£ï¼š</strong><br>é€šå¸¸ã®ã‚«ãƒ¡ãƒ©ãŒé¢¨æ™¯ã‚’ã€Œçµµï¼ˆ2æ¬¡å…ƒï¼‰ã€ã¨ã—ã¦è¨˜éŒ²ã™ã‚‹ã®ã«å¯¾ã—ã€æ·±åº¦ã‚«ãƒ¡ãƒ©ã¯ç©ºé–“ã‚’ã€Œç«‹ä½“ï¼ˆ3æ¬¡å…ƒï¼‰ã€ã¨ã—ã¦è¨ˆæ¸¬ã—ã¾ã™ã€‚</p>
            </div>

            <h2>3. ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ </h2>
            <div class="step-box">
                <h3><span class="step-number">1</span>ãƒã‚¤ã‚ºé™¤å»ã¨å¹³æ»‘åŒ–</h3>
                <p>ã‚»ãƒ³ã‚µç”±æ¥ã®ãƒã‚¤ã‚ºã‚„æ¬ æã‚’é™¤å»ã—ã€è§£æã«é©ã—ãŸãƒ‡ãƒ¼ã‚¿ã«æ•´å½¢ã—ã¾ã™ã€‚</p>
                <div class="math-explanation">
                    <h4>ğŸ“ æ•°ç†ãƒ¢ãƒ‡ãƒ«ï¼šãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ãƒ»ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³</h4>
                    <div class="formula">$$ D_{filtered} =
                        \mathcal{F}_{Hole}(\mathcal{F}_{Time}(\mathcal{F}_{Space}(\mathcal{F}_{Size}(D_{raw})))) $$
                    </div>
                </div>
            </div>

            <div class="step-box">
                <h3><span class="step-number">2</span>è·¯é¢ãƒ™ãƒ¼ã‚¹ãƒ©ã‚¤ãƒ³æ¨å®š</h3>
                <p>è·¯é¢ã®å‹¾é…ã‚„ã†ã­ã‚Šã«é©å¿œã™ã‚‹ãŸã‚ã€å‹•çš„ã«å¤‰åŒ–ã™ã‚‹ã€Œãƒ™ãƒ¼ã‚¹ãƒ©ã‚¤ãƒ³ã€ã‚’æ¨å®šã—ã¾ã™ã€‚</p>
                <div class="math-explanation">
                    <h4>ğŸ“ æ•°ç†ãƒ¢ãƒ‡ãƒ«ï¼šæŒ‡æ•°ç§»å‹•å¹³å‡ (EMA)</h4>
                    <div class="formula">$$ B_t = \alpha \cdot d_t + (1 - \alpha) \cdot B_{t-1} $$</div>
                </div>
            </div>

            <div class="step-box">
                <h3><span class="step-number">3</span>éšœå®³ç‰©æ¤œçŸ¥åˆ¤å®š</h3>
                <p>æ¨å®šã•ã‚ŒãŸãƒ™ãƒ¼ã‚¹ãƒ©ã‚¤ãƒ³ã¨æ¯”è¼ƒã—ã¦ã€æœ‰æ„ã«çªå‡ºã—ã¦ã„ã‚‹ç®‡æ‰€ã‚’éšœå®³ç‰©ã¨ã—ã¦åˆ¤å®šã—ã¾ã™ã€‚</p>
                <div class="math-explanation">
                    <h4>ğŸ“ æ•°ç†ãƒ¢ãƒ‡ãƒ«ï¼šé–¾å€¤åˆ¤å®š</h4>
                    <div class="formula">$$ d_t < B_t - h_{thresh} $$</div>
                    </div>
                </div>

                <h2>4. Q&A</h2>
                <div class="step-box">
                    <h3>Q1. ãªãœæ·±åº¦ã‚«ãƒ¡ãƒ©ã‚’ä½¿ã†ã®ã§ã™ã‹ï¼Ÿ</h3>
                    <p><strong>A.</strong> è·¯é¢ã®ã€Œå½¢çŠ¶ã€ã‚’ç›´æ¥è¨ˆæ¸¬ã™ã‚‹ãŸã‚ã§ã™ã€‚RGBã‚«ãƒ¡ãƒ©ã§ã¯è‰²ã«å·¦å³ã•ã‚Œã¾ã™ãŒã€æ·±åº¦ã‚«ãƒ¡ãƒ©ãªã‚‰ç‰©ç†çš„ãªå‡¹å‡¸ã ã‘ã‚’æ¤œå‡ºã§ãã¾ã™ã€‚</p>
                </div>

                <h2>5. ã¾ã¨ã‚</h2>
                <p>RealSense Road Scanner (Gen1) ã¯æ·±åº¦ã‚«ãƒ¡ãƒ©ã€ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ã€é©å¿œçš„ãƒ™ãƒ¼ã‚¹ãƒ©ã‚¤ãƒ³æ¨å®šã§æ§‹æˆã•ã‚Œã‚‹è·¯é¢è¨ˆæ¸¬ã‚·ã‚¹ãƒ†ãƒ ã§ã™ã€‚</p>
            </div>

            <div id="gen2" class="tab-content">
                <h2>Gen 2: 3D Point Cloud & SVD Fitting</h2>
                <p>ç¬¬2ä¸–ä»£ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã§ã¯ã€V5ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ã‹ã‚‰å°å…¥ã•ã‚ŒãŸã€Œæ€è€ƒãƒ—ãƒ­ã‚»ã‚¹ã€ã‚’åˆ†ã‹ã‚Šã‚„ã™ãè§£èª¬ã—ã¾ã™ã€‚</p>

                <h3>Step 1: ä¸–ç•Œã‚’3Dã«ã™ã‚‹</h3>
                <p>ã¾ãšã€ãƒ‡ãƒ—ã‚¹ã‚«ãƒ¡ãƒ©ã‚’ä½¿ã£ã¦ã€å˜ãªã‚‹å¹³å¦ãªç”»åƒã‚’3æ¬¡å…ƒã®ç‚¹ç¾¤ãƒ‡ãƒ¼ã‚¿ã«å¤‰æ›ã—ã¾ã™ã€‚</p>
                <pre class="mermaid">
graph LR
A[Flat Depth Image] -->|Mathematics| B[3D Clouds of Points]
style A fill:#f9f,stroke:#333
style B fill:#bbf,stroke:#333
</pre>
                <p>é€šå¸¸ã€ãƒ‡ãƒ—ã‚¹ã‚«ãƒ¡ãƒ©ã¯ã€Œè·é›¢ãƒãƒƒãƒ—ã€ã‚’å‡ºåŠ›ã™ã‚‹ã ã‘ã§ã™ãŒã€ç§ãŸã¡ã¯æ•°å­¦ã®åŠ›ã‚’ä½¿ã£ã¦ã€ã™ã¹ã¦ã®ãƒ”ã‚¯ã‚»ãƒ«ã‚’å®Œå…¨ãª3æ¬¡å…ƒåº§æ¨™ã«å¤‰æ›ã—ã¾ã™ã€‚</p>

                <h3>Step 2: ã€ŒåºŠã€ã‚’è¦‹ã¤ã‘ã‚‹</h3>
                <p>æ•£ã‚‰ã‹ã£ãŸãƒ†ãƒ¼ãƒ–ãƒ«ã®ä¸Šã«ãƒ†ãƒ¼ãƒ–ãƒ«ã‚¯ãƒ­ã‚¹ã‚’åºƒã’ã‚‹æ§˜å­ã‚’æƒ³åƒã—ã¦ãã ã•ã„ã€‚ç§ãŸã¡ã®ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã¯ã€<strong>SVDï¼ˆç‰¹ç•°å€¤åˆ†è§£ï¼‰</strong>ã¨ã„ã†æŠ€è¡“ã‚’ä½¿ã£ã¦ã€ã“ã‚Œã‚’æ•°å­¦çš„ã«è¡Œã„ã¾ã™ã€‚</p>
                <div class="analogy">
                    <p><strong>ğŸ’¡ ã“ã“ãŒãƒã‚¤ãƒ³ãƒˆï¼š</strong><br>ã“ã®æ‰‹æ³•ã¯ã€<strong>ã‚«ãƒ¡ãƒ©ãŒã©ã‚“ãªã«æ–œã‚ã«å‚¾ã„ã¦ã„ã¦ã‚‚æ©Ÿèƒ½ã—ã¾ã™ï¼</strong></p>
                </div>

                <h3>Step 3: å‡¸å‡¹ã‚’æ¸¬ã‚‹</h3>
                <p>ã€Œç›®ã«è¦‹ãˆãªã„å®Œç’§ãªåºŠã®ã‚·ãƒ¼ãƒ„ã€ãŒã§ããŸã‚‰ã€ã‚ã¨ã¯å„ç‚¹ãŒãã“ã‹ã‚‰ã©ã‚Œã ã‘é£›ã³å‡ºã—ã¦ã„ã‚‹ã‹ã‚’ãƒã‚§ãƒƒã‚¯ã™ã‚‹ã ã‘ã§ã™ã€‚</p>
                <pre class="mermaid">
graph TD
P["Point Cloud"] --> Q{"Is point above sheet?"}
Q -->|Yes| R["Measure Distance"]
Q -->|No| S["Ignore - Its floor"]
R --> T["Average the Highest 20 Points"]
</pre>
                <ul>
                    <li>åŸºæº–ã¨ãªã‚‹ã‚·ãƒ¼ãƒ„ã‹ã‚‰ã€æœ€ã‚‚é«˜ã„ç‚¹ã¾ã§ã®<strong>ç›´ç·šè·é›¢</strong>ã‚’æ¸¬ã‚Šã¾ã™ã€‚</li>
                    <li><strong>æœ€ã‚‚é«˜ã„20å€‹ã®ç‚¹ã®å¹³å‡å€¤</strong>ã‚’ä½¿ã£ã¦ã€æœ€çµ‚çš„ãªéšœå®³ç‰©ã®é«˜ã•ã¨ã—ã¾ã™ã€‚</li>
                </ul>

                <h3>V5ã®æ”¹å–„ç‚¹ã¾ã¨ã‚</h3>
                <table>
                    <thead>
                        <tr>
                            <th>æ©Ÿèƒ½</th>
                            <th>V4 (Gen1)</th>
                            <th>V5 (Gen2)</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>åº§æ¨™ç³»</td>
                            <td>2Dæ·±åº¦ãƒãƒƒãƒ—</td>
                            <td><strong>å®Œå…¨3Dç‚¹ç¾¤</strong></td>
                        </tr>
                        <tr>
                            <td>åºŠé¢æ¤œçŸ¥</td>
                            <td>å›ºå®šè·é›¢åŸºæº–</td>
                            <td><strong>å‹•çš„å¹³é¢ãƒ•ã‚£ãƒƒãƒ†ã‚£ãƒ³ã‚° (SVD)</strong></td>
                        </tr>
                        <tr>
                            <td>å‚¾ãå¯¾å¿œ</td>
                            <td>å‚¾ãã¨èª¤å·®ãŒå‡ºã‚‹</td>
                            <td><strong>è‡ªå‹•è£œæ­£</strong></td>
                        </tr>
                        <tr>
                            <td>ç²¾åº¦åŸºæº–</td>
                            <td>å˜ç´”ãªå¼•ãç®—</td>
                            <td><strong>RealSense Viewerã¨åŒç­‰</strong></td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <footer>&copy; 2025 ServoDrive - RealSense Road Scanner Project</footer>
        </div>
</body>

</html>